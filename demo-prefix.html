<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Mapbox GL Style Switcher Control</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />

    <script src="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css" rel="stylesheet" />

    <script src="dist/mapbox-gl-style-switcher.js"></script>
    <link href="dist/mapbox-gl-style-switcher.css" rel="stylesheet" />

    <style>
      body { margin: 0; padding: 0; }
      #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      mapboxgl.accessToken = window.localStorage.getItem('MapboxAccessToken');

var map = new mapboxgl.Map({
    container: 'map',
    style: {
        version: 8,
        sources: {
            'pencil': {
                type: 'raster',
                tileSize: 256,
                tiles: [
                    'http://a.tiles.mapbox.com/v4/mapbox.pencil/{z}/{x}/{y}.png?access_token=' + mapboxgl.accessToken
                ]
            },
            'pirates': {
                type: 'raster',
                tileSize: 256,
                tiles: [
                    'http://a.tiles.mapbox.com/v4/mapbox.pirates/{z}/{x}/{y}.png?access_token=' + mapboxgl.accessToken
                ]
            }
        },
        layers: [
            {
                id: 'pencil-layer',
                type: 'raster',
                source: 'pencil',
                layout: {
                    visibility: 'none'
                }
            },
            {
                id: 'pirates-layer',
                type: 'raster',
                source: 'pirates',
                layout: {
                    visibility: 'none'
                }
            }
        ]
    },
    center: [0, 0],
    zoom: 0
});

var styles = [
    {
        title: 'Pencil',
        prefix: 'pencil-'
    },
    {
        title: 'Pirates',
        prefix: 'pirates-'
    }
];

var styleSwitcher = new MapboxStyleSwitcherControl(styles);

// styleSwitcher.setStyle('Pencil')

map.addControl(styleSwitcher);
    </script>
</body>
</html>
